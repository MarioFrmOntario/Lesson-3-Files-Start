<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Products Array | COMP1073 Client-Side JavaScript</title>
	<link href="styles.css" rel="stylesheet" />
</head>

<body>
	<h1>Products Array</h1>
	<p>Let’s use a product detail array and some of the array methods we’ve worked with today to output some useful information to a simple HTML table.</p>
	<table>
		<thead>
			<tr>
				<th colspan="2">Invoice</th>
			</tr>
			<tr>
				<th>Product Description</th>
				<th>Price</th>
			</tr>
		</thead>
		<tfoot>
			<tr>
				<th>Total</th>
				<td></td>
			</tr>
		</tfoot>
		<tbody>
		</tbody>
	</table>
	<script>
		// STEP 1: Declare and initialize variables
		// STEP 1a: Grab the parts of the DOM that we need to build the invoice
		var productList=document.querySelector('tbody');
		var totalData=document.querySelector('tfoot td:first-of-type');
		
		// STEP 1b: Build the products array in the format 'Product Name:0.00'

		var product=[
			'Frozen Pizza:8.99', 'Orange Juice:4.99', 'Milk:6.95', 'Dozen Eggs:3.95', 'Bacon:7.49'
		]
		// STEP 1c: Set up invoiceTotal variable - start at zero
		var invoiceTotal=0;

		// STEP 2: Build a loop to iterate through the products array
		for(var i=0; i<product.length; i++){
			
			product[i]= product[i].split(':');
			//console.log(product[i]);
			product[i][1]=Number(product[i][1]);
			//console.log(product[i][1]);
			invoiceTotal += product[i][1];
			//console.log(product[i]);
			var itemDesc= product[i][0];
			var itemPrice= product[i][1];
			var itemRow=document.createElement('tr');
			var itemDetail= '<td>' + itemDesc + '</td><td>' + itemPrice + '</td>';
			itemRow.innerHTML= itemDetail;
			productList.appendChild(itemRow);
			
		}
		totalData.textContent=invoiceTotal.toFixed(2);

		//var invoiceTotal= array.forEach(product => {
			
		//});;
		

			// STEP 3: Break apart the product name from the price for each item with split()
			// STEP 4: Now we have an array as an element of an array - set the second array element to the product price (as type number)

			// STEP 5: Add the price of this product to the invoice total

			// STEP 6: Capture each product name and price as variables 

			// STEP 7: Create a TR element for this product and price in the invoice table

			// STEP 8: Build the string that contains two TD elements each containing one of the item description, and the item price

			// STEP 9: Set the above string as the innerHTML of the new TR element, and then append the new element to the table body (var productList)

		// STEP 10: Set the total cost of the invoice as the textContent of the TD in the TFOOT (var totalData), rounding the number to two decimal places

	</script>
</body>
</html>